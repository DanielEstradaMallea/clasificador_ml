# nixpacks.toml
# Configuración para forzar la descarga de modelos LFS en Railway

providers = ["python"]

[phases.setup]
# Instala git-lfs a nivel de sistema operativo antes de nada
nixPkgs = ["git", "git-lfs", "gcc"]

[phases.build]
# Comandos explícitos: Inicializa LFS, descarga los archivos pesados y luego instala dependencias
cmds = [
    "git lfs install",
    "git lfs pull",
    "pip install -r requirements.txt"
]